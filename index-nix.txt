Index of Nix modules
--------------------

- config/configuration.nix  
  System entrypoint. Imports modular configs and exposes helper tools from scripts.nix.  
  Tools are added to PATH as fallback, but modules should prefer explicit binaries.

- config/disk.nix  
  Declarative filesystems from a host-local manifest.  
  Consumes /srv/nixserver/manifests/filesystems.json generated by disk-config-tool.sh.

- config/flake.nix  
  Flake entrypoint. Defines channels (25.05 + selective unstable), overlays, and specialArgs.  
  Provides secretsMap and manifestsPath to other modules.

- config/kernel.nix  
  Kernel pin and ZFS integration (OpenZFS â‰¥ 2.3.3).  
  Default kernel: 6.15, with configurable kernel parameters.

- config/monitoring.nix  
  Defines the monitoring scheduler (monctl) and helper timers.  
  Spawns transient units for tasks like SMART, bcachefs, firewall checks.

- config/network.nix  
  Networking, hostname, timezone, interfaces, VLANs, static IPs, DNS, and NTP (chrony).  
  Includes special /30 subnet for NAS.

- config/pkgs.nix  
  Packages and services. Core from stable, optional unstable for specific needs.  
  Includes Tailscale, Flatpak, graphics stack.

- config/scripts.nix  
  Builds reproducible helper binaries from ./tools using pkgs.writeShellApplication.  
  Ensures tool sources are embedded at build time.

- config/secrets.nix  
  Agenix integration using the secrets map.  
  Consumes secretsMap from flake.specialArgs, or falls back to manifests/secrets-map.json.

- config/security.nix  
  Security and hardening. Configures OpenSSH, firewall, Fail2ban, ClamAV, and CrowdSec.  
  Extendable via /etc/crowdsec/acquis.d and cscli collections.

- config/users.nix  
  User accounts, sudo, shells, SSH keys, and passwords.  
  Passwords from agenix, fallback to SSH pubkeys. Locale: en_GB; console layout: de-QWERTZ.
